<!-- sldsValidatorIgnore -->
<template>
    <div if:true={loadingData} class="slds-spinner_container">
        <lightning-spinner variant="brand" size="medium" alternative-text="Loading"></lightning-spinner>
    </div>
    <c-create-new-google-file-popup onrefresh={handleRefresh}></c-create-new-google-file-popup>
    <table
        aria-multiselectable="true"
        class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols"
        role="grid"
        aria-label="Example advanced table of Opportunities with cell icon"
    >
        <thead>
            <tr class="slds-line-height_reset">
                <th aria-label="Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Name">Title</span>
                            <span class="slds-icon_container slds-icon-utility-arrowdown">
                                <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                </svg>
                            </span>
                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input
                            type="range"
                            aria-label="Name column width"
                            class="slds-resizable__input slds-assistive-text"
                            id="cell-resize-handle-225"
                            max="1000"
                            min="20"
                            tabindex="-1"
                        />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>
                <th aria-label="Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Name">Download file</span>
                            <span class="slds-icon_container slds-icon-utility-arrowdown">
                                <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                </svg>
                            </span>
                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input
                            type="range"
                            aria-label="Name column width"
                            class="slds-resizable__input slds-assistive-text"
                            id="cell-resize-handle-1"
                            max="1000"
                            min="20"
                            tabindex="-1"
                        />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>
                <th aria-label="Account Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Account Name">Created date</span>
                            <span class="slds-icon_container slds-icon-utility-arrowdown">
                                <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                </svg>
                            </span>
                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input
                            type="range"
                            aria-label="Account Name column width"
                            class="slds-resizable__input slds-assistive-text"
                            id="cell-resize-handle-226"
                            max="1000"
                            min="20"
                            tabindex="-1"
                        />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>
                <th aria-label="Close Date" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Close Date">Last modified date</span>
                            <span class="slds-icon_container slds-icon-utility-arrowdown">
                                <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                </svg>
                            </span>
                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input
                            type="range"
                            aria-label="Close Date column width"
                            class="slds-resizable__input slds-assistive-text"
                            id="cell-resize-handle-227"
                            max="1000"
                            min="20"
                            tabindex="-1"
                        />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>
                <th aria-label="Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Name">Delete file</span>
                            <span class="slds-icon_container slds-icon-utility-arrowdown">
                                <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                </svg>
                            </span>
                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input
                            type="range"
                            aria-label="Name column width"
                            class="slds-resizable__input slds-assistive-text"
                            id="cell-resize-handle-2"
                            max="1000"
                            min="20"
                            tabindex="-1"
                        />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>
            </tr>
        </thead>
        <tbody if:true={files}>
            <template for:each={files} for:item="file">
                <tr key={file.id} aria-selected="false" class="slds-hint-parent">
                    <th scope="row" tabindex="0">
                        <div class="slds-truncate" title="Acme - 1,200 Widgets">
                            <lightning-icon class="slds-m-right_medium" icon-name={file.iconType} size="medium" alternative-text="Indicates approval"> </lightning-icon>
                            <!-- <lightning-icon icon-name="doctype:folder" alternative-text="Folder file" title="Folder"></lightning-icon> -->
                            <a href={file.webViewLink} tabindex="-1">{file.name}</a>
                        </div>
                    </th>
                    <td role="gridcell">
                        <!-- <lightning-button
                            variant="brand-outline"
                            label="download"
                            title="download"
                            onclick={openModal}
                            class="slds-m-left_x-small  slds-m-bottom_small"
                        ></lightning-button> -->
                        <a class="slds-button" href={file.webContentLink}>download</a>
                    </td>
                    <td role="gridcell">
                        <div class="slds-truncate" title="Acme">{file.createdTime}</div>
                    </td>
                    <td role="gridcell">
                        <div class="slds-truncate" title="4/10/15">{file.modifiedTime}</div>
                    </td>
                    <td role="gridcell">
                        <lightning-button
                            variant="brand-outline"
                            label="delete"
                            title="delete"
                            target-id={file.Id}
                            onclick={handleDelete}
                            class="slds-m-left_x-small  slds-m-bottom_small"
                        ></lightning-button>
                    </td>
                </tr>
            </template>
        </tbody>
    </table>
</template>
